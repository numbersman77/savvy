[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "SAVVY: Survival analysis for AdVerse events with VarYing follow-up times",
    "section": "",
    "text": "Steering committee\n\n\n\n\n\nFirst\nLast\nInstitution\nLocation\n\n\n\n\nJan\nBeyersmann\nUniversity of Ulm\nUlm\n\n\nTim\nFriede\nUniversity of Göttingen\nGöttingen\n\n\nValentine\nJehl\nNovartis\nBasel\n\n\nFriedhelm\nLeverkus\nPfizer\nBerlin\n\n\nKaspar\nRufibach\nRoche\nBasel\n\n\nClaudia\nSchmoor\nUniversity of Freiburg\nFreiburg\n\n\n\n\n\n\n\nImpact\nBesides publications SAVVY has already made it into a standard text book on drug development, see p. 486/7 in Statistical Issues in Drug Development (3rd ed) by Stephen Senn:\n\n\n\n\nThe general interest around quantification of risk in clinical trials is also exemplified by the reactions to this linkedin post: Within a week, the post generated >30’000 views and just short of 300 likes.\n\n\nContact\nReach out to Kaspar Rufibach with comments and suggestions on this webpage.\n\n\nUpdates of this page\n\n24/11/2022: initial version online"
  },
  {
    "objectID": "publications.html",
    "href": "publications.html",
    "title": "Publications and further publicity",
    "section": "",
    "text": "Podcasts\nJan Beyersmann and Kaspar Rufibach have also been interviewed for two effective statistician podcasts discussing SAVVY:\n\n7th July 2021: The analysis of adverse events done right – SAVVY.\n29th November 2021: Effective statistician podcast (invited contribution to 200th episode). Invited contribution to the 200th episode of this podcast, featuring the contributors of the 10% most downloaded podcasts. Our contribution starts at 02:20:00.\n\n\n\n\n\n\n\n\n\nReferences\n\nRufibach, Kaspar, Regina Stegherr, Claudia Schmoor, Valentine Jehl, Arthur Allignol, Annette Boeckenhoff, Cornelia Dunger-Baldauf, et al. 2022. “Survival analysis for AdVerse events with VarYing follow-up times (SAVVY) – comparison of adverse event risks in randomized controlled trials.” Statistics in Biopharmaceutical Research, Accepted.\n\n\nStegherr, Regina, Jan Beyersmann, Valentine Jehl, Kaspar Rufibach, Friedhelm Leverkus, Claudia Schmoor, and Tim Friede. 2021. “Survival Analysis for AdVerse Events with VarYing Follow-up Times (SAVVY): Rationale and Statistical Concept of a Meta-Analytic Study.” Biometrical Journal 63 (March): 650–70.\n\n\nStegherr, R., C. Schmoor, J. Beyersmann, K. Rufibach, V. Jehl, A. Brückner, L. Eisele, et al. 2021. “Survival analysis for AdVerse events with VarYing follow-up times (SAVVY)-estimation of adverse event risks.” Trials 22 (1): 420.\n\n\nStegherr, R., C. Schmoor, M. Lübbert, T. Friede, and J. Beyersmann. 2021. “Estimating and comparing adverse event probabilities in the presence of varying follow-up times and competing events.” Pharmaceutical Statistics 20 (6): 1125–46."
  },
  {
    "objectID": "events.html",
    "href": "events.html",
    "title": "Events with contributions from the working group",
    "section": "",
    "text": "Past events\nBelow a list of past events with contributions of SAVVY members, with links to slidedecks and recordings (where available).\n\n\n\n\n\n30.08.2022: Oncology estimand working group (Safety task force)\nWG contribution: Invited presentation\nLink to Program\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nRegina Stegherr\nSurvival analysis for AdVerse events with VarYing follow-up times - Results of the empirical study of the SAVVY project\nlink\n\n\n\n\n\n\n\n\n\n\n25.08.2022: 67. GMDS-Jahrestagung\nKiel (virtual) / Germany\nWG contribution: Contributed talk\nLink to Program\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nRegina Stegherr\nSurvival analysis for AdVerse events with VarYing follow-up times – The SAVVY Project\nlink\n\n\n\n\n\n\n\n\n\n\n10.05.2022: NIHR-MRC Trials Methodology Research Partnership (TMRP) Outcomes Working Group: Adverse Events - evaluating harm\nWG contribution: Invited presentation\nLink to Program\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nKaspar Rufibach\nStop the abuse: A plea for a more principled approach to the analysis of adverse events\nlink\n\n\n\n\n\n\n\n\n\n\n26.05.2021: Roche Data Sciences\nBasel / Switzerland\nWG contribution: Training\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nKaspar Rufibach\nStop the abuse: A plea for a more principled approach to the analysis of time-to-event endpoints with competing risks, with a focus on analysis of Aes\nlink\n\n\n\n\n\n\n\n\n\n\n15.03.2021: DIA Europe 2021\nBasel / Switzerland\nWG contribution: Invited presentation\nLink to Program\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nKaspar Rufibach / Tim Friede\nStop the abuse: A plea for a more principled approach to the analysis of adverse events\nlink\n\n\n\n\n\n\n\n\n\n\n17.11.2020: Berliner Kolloquium Statistische Methoden in der empirischen Forschung\nBerlin / Germany\nWG contribution: Invited presentation\nLink to Program\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nRegina Stegherr\nSurvival analysis for AdVerse events with VarYing follow-up times - Results of the empirical study of the SAVVY project\nlink\n\n\n\n\n\n\n\n\n\n\n15.09.2020: GMDS & CEN-IBS 2020\nBerlin (virtual) / Germany\nWG contribution: Invited presentation\n\n\n\n\n\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nRegina Stegherr\nSurvival analysis for AdVerse events with Varying follow-up times - The empirical study of the SAVVY project\n\n\n\n\n\n\n\n\n\n\n\n25.08.2020: Yearly conferenfe of the international Society of Clinical Biostatistics (ISCB)\nKrakow (virtual) / Poland\nWG contribution: Contributed talk\nLink to Program\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nRegina Stegherr\nSurvival analysis for AdVerse events with Varying follow-up times - The\n\n\n\nempirical study of the SAVVY project\nlink\n\n\n\n\n\n\n\n\n\n\n\n27.08.2019: 7th International Symposium on Biopharmaceutical Statistics\nKyoto / Japan\nWG contribution: Contributed talk\nLink to Program\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nRegina Stegherr\nRationale and first results from the SAVVY project\nlink\n\n\n\n\n\n\n\n\n\n\n25.03.2019: DAGStat Conference\nMunich / Germany\nWG contribution: Contributed talk\nLink to Program\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nRegina Stegherr\nMethodological aspects in the analysis of adverse\n\n\n\nevents in time-to-event data\nlink\n\n\n\n\n\n\n\n\n\n\n\n15.03.2019: Survival Analysis for Junior Researchers\nKopenhagen / Denmark\nWG contribution: Contributed talk\n\n\n\n\n\n\n\n\n\n\nContributor\nTitle\nDownload\n\n\n\n\nRegina Stegherr\nMethodological aspects in the analysis of adverse events in time-to-event"
  },
  {
    "objectID": "code.html",
    "href": "code.html",
    "title": "SAVVY: estimation of AE probabilities",
    "section": "",
    "text": "The assessment of safety is an important aspect of the evaluation of new therapies in clinical trials, with analyses of adverse events being an essential part of this. Standard methods for the analysis of adverse events such as the incidence proportion, i.e. the number of patients with a specific adverse event out of all patients in the treatment groups, do not account for both varying follow-up times and competing risks. Alternative approaches such as the Aalen-Johansen estimator of the cumulative incidence function have been suggested. Theoretical arguments and numerical evaluations support the application of these more advanced methodology, but as yet there is to our knowledge only insufficient empirical evidence whether these methods would lead to different conclusions in safety evaluations. The Survival analysis for AdVerse events with VarYing follow-up times (SAVVY) project strives to close this gap in evidence by conducting a meta-analytical study to assess the impact of the methodology on the conclusion of the safety assessment empirically. Three papers are currently under review summarizing the rationale and results of the project:\n\nRegina Stegherr et al. (2021): statistical analysis plan, presenting the rationale and statistical concept of the empirical study conducted as part of the SAVVY project. The statistical methods are presented in unified notation and examples of their implementation in R and SAS are provided.\nR. Stegherr, Schmoor, Beyersmann, et al. (2021): 1-sample case, compares estimators of AE probabilities in one treatment arm,\nRufibach et al. (2022): 2-sample case, compares relative risk estimators comparing two treatment arms based on (1) AE probabilities and (2) hazards."
  },
  {
    "objectID": "code.html#packages",
    "href": "code.html#packages",
    "title": "SAVVY: estimation of AE probabilities",
    "section": "Packages",
    "text": "Packages\n\n# --------------------------------------------------------------\n# packages\n# --------------------------------------------------------------\npacks <- c(\"data.table\", \"etm\", \"survival\", \"mvna\", \"knitr\")    \nfor (i in 1:length(packs)){library(packs[i], character.only = TRUE)}"
  },
  {
    "objectID": "code.html#functions",
    "href": "code.html#functions",
    "title": "SAVVY: estimation of AE probabilities",
    "section": "Functions",
    "text": "Functions\nBelow all functions are defined.\n\ndata_generation_constant_cens: This function generates the dataset denoted by \\(S1\\) in Table~4 of R. Stegherr, Schmoor, Lübbert, et al. (2021), i.e. we assume constant hazards for the AE hazard, the hazard for the competing event of death, and the hazard for the “soft” competing events. Censoring is uniform.\nincidenceProportion: Compute incidence proportion.\nprobTransIncidenceDensity: Compute probability transform incidence density ignoring competing events.\nprobTransIncidenceDensity: Compute probability transform incidence density ignoring competing events.\noneMinusKaplanMeier: Compute 1 - Kaplan-Meier estimator.\nAJE: Compute Aalen-Johansen estimator.\n\nThe argument CE codifies the type of competing event: CE = 2 refers to a competing event of death only whereas CE = 3 refers to all competing events.\n\n# --------------------------------------------------------------\n# functions\n# --------------------------------------------------------------\n\n# function to generate dataset with constant hazards for AE, death, and soft competing events\ndata_generation_constant_cens <- function(N, min.cens, max.cens, haz.AE, haz.death,\n                                          haz.soft, seed = 57 * i + 5){\n  \n  # status, 1 for AE, 2 for death 3 for soft competing event\n  set.seed(seed)\n  haz.all <- haz.AE + haz.death + haz.soft\n\n  my.data <- data.table(time_to_event = rep(0, N), type_of_event = rep(0, N))\n  my.data$time_to_event<- rexp(n = N, rate = haz.all) # event time\n  my.data$type_of_event <- rbinom(n = N, size = 2, \n                                  prob = c(haz.AE / haz.all, haz.death / haz.all, haz.soft / haz.all)) + 1\n                                  # status, 1 for AE, 2 for death 3 for soft competing event\n  my.data$cens <- runif(n = N, min = min.cens, max = max.cens)\n  my.data$type_of_event <- as.numeric(my.data$time_to_event <= my.data$cens) * my.data$type_of_event\n  my.data$time_to_event <- pmin(my.data$time_to_event, my.data$cens)\n  my.data$id <- 1:N\n\n  # reorder columns\n  my.data <- my.data[, c(\"id\", \"time_to_event\", \"type_of_event\", \"cens\")]\n  return(my.data)\n}\n\n# compute incidence proportion\nincidenceProportion <- function(data, tau){\n\n  ae <- nrow(data[type_of_event == 1 & time_to_event <= tau]) / nrow(data)\n  ae_prob_var <- ae * (1 - ae) / nrow(data)\n\n  res <- c(\"ae_prob\" = ae, \"ae_prob_var\" = ae_prob_var)\n  return(res)\n}\n\n# compute probability transform incidence density\nprobTransIncidenceDensity <- function(data, tau){\n\n  time <- data$time_to_event\n  incidence.dens <- nrow(data[type_of_event == 1 & time_to_event <= tau]) / \n    sum(ifelse(time <= tau, time, tau))\n  ae <- 1 - exp(-incidence.dens * tau)\n\n  var_A_var <- nrow(data[type_of_event == 1 & time_to_event <= tau]) / \n    sum(ifelse(time <= tau, time, tau)) ^ 2\n  ae_var <- exp(-incidence.dens * tau) ^ 2 * var_A_var * tau ^ 2\n\n  res <- c(\"ae_prob\" = ae, \"ae_prob_var\" = ae_var)\n  return(res)\n}\n\n# compute probability transform incidence density accounting for CE\nprobTransIncidprobTransIncidenceDensityCompEvents <- function(data, CE, tau){\n  \n  data2 <- data[, type_of_event2 := ifelse(CE == 2 & data$type_of_event == 3, 0, \n                                           ifelse(CE == 3 & data$type_of_event == 3, 2, type_of_event))]\n  time2 <- ifelse(data2$time_to_event <= tau, data2$time_to_event, tau)\n  s2 <- sum(time2)\n  \n  id <- sum(dim(data2[type_of_event2 == 1 & time_to_event <= tau])[1]) / s2\n  id_ce <- sum(dim(data2[type_of_event2 == 2 & time_to_event <= tau])[1]) / s2\n  tmp <- id + id_ce\n  ett <- exp(-tau * tmp)\n\n  ae_prob <- id / tmp * (1 - exp(- tau*tmp))\n  ae_prob_var <- (((ett *      (id_ce * (1 / ett - 1) + tau * id * tmp)) / tmp ^ 2) ^ 2 * id / s2 + \n                  ((ett * id * (tau * tmp - 1 / ett + 1)) / tmp ^ 2) ^ 2 * id_ce / s2)\n\n  res <- c(\"ae_prob\" = ae_prob, \"ae_prob_var\" = ae_prob_var)\n  return(res)\n}\n\n# compute 1 - Kaplan-Meier\noneMinusKaplanMeier <- function(data, tau){\n\n  if(nrow(data[type_of_event == 1]) == 0){\n    ae_prob <- 0\n    ae_prob_var <- 0\n  }\n\n  if(nrow(data[type_of_event == 1]) > 0){\n    help <- data.frame(id = data$id)\n    help$from <- 0\n    help$to <- ifelse(data$type_of_event != 1, \"cens\", data$type_of_event)\n    help$time <-ifelse(data$time_to_event == 0, 0.001, data$time_to_event)\n\n    tra <- matrix(FALSE, 2, 2)\n    tra[1, 2] <- TRUE\n    state.names <-as.character(0:1)\n    etmmm <-etm(help, state.names, tra, \"cens\", s = 0)\n\n    ae_prob <- summary(etmmm)[[2]][sum(summary(etmmm)[[2]]$time <= tau),]$P\n    ae_prob_var <- summary(etmmm)[[2]][sum(summary(etmmm)[[2]]$time <= tau),]$var\n  }\n\n  res <- c(\"ae_prob\" = ae_prob, \"ae_prob_var\" = ae_prob_var)\n  return(res)\n}\n\n# compute Aalen-Johansen estimator\nAJE <- function(data, CE, tau){\n\n  data[, type_of_event2 := ifelse(CE == 2 & data$type_of_event == 3, 0, \n                                  ifelse(CE == 3 & data$type_of_event == 3, 2, type_of_event))]\n  time <- data$time_to_event\n  type2 <- data$type_of_event2\n  \n  # conditions\n  c1 <- nrow(data[type_of_event2 == 1])\n  c2 <- nrow(data[type_of_event2 == 2])\n  \n  if(c1 == 0){\n   ae_prob <- 0\n   ae_prob_var <- 0\n  }\n\n  if(c2 == 0){\n    ce_prob <- 0\n    ce_prob_var <- 0\n  }\n\n  # define auxiliary objects\n  help <- data.frame(id = data$id)\n  help$from <- 0\n  help$time <-ifelse(time == 0, 0.001, time)\n  tra <- matrix(FALSE, 2, 2)\n  tra[1, 2] <- TRUE\n  state.names <- as.character(0:1)\n  \n  if(c1 == 0 & c2 != 0){\n    help$to <- ifelse(type2 != 2, \"cens\", type2 - 1)\n    etmmm <- etm(help, state.names, tra, \"cens\", s = 0)\n    setmm <- summary(etmmm)[[2]]\n    ce_prob <- setmm[sum(setmm$time <= tau),]$P\n    ce_prob_var <- setmm[sum(setmm$time <= tau),]$var\n  }\n\n  if(c1 != 0 & c2 == 0){\n    help$to <- ifelse(type2 != 1, \"cens\", type2)\n    etmmm <- etm(help, state.names, tra, \"cens\", s = 0)\n    setmm <- summary(etmmm)[[2]]\n   \n    ae_prob <- setmm[sum(setmm$time <= tau),]$P\n    ae_prob_var <- setmm[sum(setmm$time <= tau),]$var\n  }\n\n  if(c1 != 0 & c2 != 0){\n    help$to <- ifelse(!(type2 %in% c(1, 2)),\"cens\", type2)\n\n    tra <- matrix(FALSE, 3, 3)\n    tra[1, 2:3] <- TRUE\n    state.names <- as.character(0:2)\n    etmmm <- etm(help, state.names, tra, \"cens\", s = 0)\n    setmm <- summary(etmmm)\n   \n    ae_prob <- setmm[[2]][sum(setmm[[2]]$time <= tau),]$P\n    ae_prob_var <- setmm[[2]][sum(setmm[[2]]$time <= tau),]$var\n\n    ce_prob <- setmm[[3]][sum(setmm[[3]]$time <= tau),]$P\n    ce_prob_var <- setmm[[3]][sum(setmm[[3]]$time <= tau),]$var\n  }\n\n  res_ae <- c(\"ae_prob\" = ae_prob, \"ae_prob_var\" = ae_prob_var)\n  res_ce <- c(\"ce_prob\" = ce_prob, \"ce_prob_var\" = ce_prob_var)\n  \n  res <- rbind(res_ae, res_ce)\n  return(res)\n}"
  }
]